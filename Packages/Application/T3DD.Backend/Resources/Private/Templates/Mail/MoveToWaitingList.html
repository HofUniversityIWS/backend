<f:layout name="Email" />

<f:section name="content">
	<h3>Dear {value.registration.billingAddress.name},</h3>

	<p>the status of participants changed:</p>

	<f:if condition="{value.ticketBookingStateChanged -> f:count()} > 0">
	<p><strong>Tickets:</strong></p>
	<ul>
		<f:for each="{value.ticketBookingStateChanged}" as="change">
			<li>
				{change.participant.name}: From
				<f:switch expression="{change.priorBookingState}">
					<f:case value="waiting">waitinglist</f:case>
					<f:defaultCase>booked</f:defaultCase>
				</f:switch>
				to
				<f:switch expression="{change.newBookingState}">
					<f:case value="waiting">waitinglist</f:case>
					<f:defaultCase>booked</f:defaultCase>
				</f:switch>
			</li>
		</f:for>
	</ul>
	</f:if>

	<f:if condition="{value.roomBookingStateChanged -> f:count()} > 0">
	<p><strong>Rooms:</strong></p>
	<ul>
		<f:for each="{value.roomBookingStateChanged}" as="change">
			<li>
				{change.participant.name}: From
				<f:switch expression="{change.priorBookingState}">
					<f:case value="waiting">waitinglist</f:case>
					<f:defaultCase>booked</f:defaultCase>
				</f:switch>
				to
				<f:switch expression="{change.newBookingState}">
					<f:case value="waiting">waitinglist</f:case>
					<f:defaultCase>booked</f:defaultCase>
				</f:switch>
			</li>
		</f:for>
	</ul>
	</f:if>

</f:section>