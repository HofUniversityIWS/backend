<link rel="import" href="../bower_components/core-ajax/core-ajax.html">

<link rel="import" href="../bower_components/core-scroll-header-panel/core-scroll-header-panel.html">
<link rel="import" href="../elements/site-jumbotron/site-jumbotron.html">
<link rel="import" href="../elements/site-content/site-content.html">

<link rel="import" href="../bower_components/marked-element/marked-element.html">
<link rel="import" href="../bower_components/pushstate-anchor/pushstate-anchor.html">

<polymer-element name="session-show" attributes="uuid">
	<template>
		<core-ajax
				auto
				url="/sessions/{{uuid}}"
				contentType="application/json"
				headers='{"Accept": "application/json"}'
				handleAs="json"
				on-core-response="{{handleSession}}"></core-ajax>
		<style>
			:host, core-scroll-header-panel {
				display: block;
				height: 100%;
			}
		</style>
		<core-scroll-header-panel>
			<site-jumbotron>
				<h1>{{session.title}}</h1>
			</site-jumbotron>
			<site-content>
				<marked-element text="{{session.description}}"></marked-element>
			</site-content>
		</core-scroll-header-panel>
	</template>
	<script>
		(function () {
			'use strict';

			Polymer({

				/**
				 * @attribute user
				 * @type Object
				 * @default null
				 */
				session: null,

				ready: function () {

				},

				handleSession: function(ajaxEvent) {
					this.session = ajaxEvent.detail.response;
				}
			});

		})();
	</script>
</polymer-element>
