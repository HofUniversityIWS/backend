<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>T3DD15 TYPO3 Developer Days 2015</title>
	<meta name="description" content="TYPO3 Developer Days is the developer gathering of the TYPO3 community worldwide, taking place July 16-19, Nuremberg, Germany">
	<meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

	<!-- build:css styles/main.css -->
	<link rel="stylesheet" href="styles/app.css">
	<!-- endbuild-->

	<!-- build:js bower_components/webcomponentsjs/webcomponents.min.js -->
	<script src="bower_components/webcomponentsjs/webcomponents.js"></script>
	<!-- endbuild -->

	<!-- build:vulcanized elements/elements.vulcanized.html -->
		<link rel="import" href="bower_components/core-ajax/core-ajax.html">

		<link rel="import" href="bower_components/app-router/app-router.html">
		<link rel="import" href="bower_components/pushstate-anchor/pushstate-anchor.html">
		<link rel="import" href="bower_components/pvc-globals/pvc-globals.html">

		<link rel="import" href="bower_components/core-drawer-panel/core-drawer-panel.html">
		<link rel="import" href="bower_components/core-toolbar/core-toolbar.html">
		<link rel="import" href="bower_components/core-icons/core-icons.html">
		<link rel="import" href="bower_components/core-icons/social-icons.html">
		<link rel="import" href="bower_components/core-image/core-image.html">
		<link rel="import" href="bower_components/core-menu/core-menu.html">
		<link rel="import" href="bower_components/core-localstorage/core-localstorage.html">
		<link rel="import" href="bower_components/core-selector/core-selector.html">
		<link rel="import" href="bower_components/core-header-panel/core-header-panel.html">
		<link rel="import" href="bower_components/core-scroll-header-panel/core-scroll-header-panel.html">
		<link rel="import" href="bower_components/core-icon-button/core-icon-button.html">

		<link rel="import" href="bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
		<link rel="import" href="bower_components/paper-dropdown/paper-dropdown.html">
		<link rel="import" href="bower_components/paper-item/paper-item.html">
		<link rel="import" href="bower_components/paper-button/paper-button.html">
		<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
		<link rel="import" href="bower_components/paper-fab/paper-fab.html">

		<link rel="import" href="bower_components/core-style/core-style.html">

		<link rel="import" href="elements/site-item/site-item.html">
		<link rel="import" href="elements/site-login/site-login.html">
	<!-- endbuild-->
</head>

<body unresolved fullbleed>

<core-style id="navheaderstyle">
	#navheader::after {
	/* causes console warning for incorrect mimetype */
	background-image: url({{coverImg}});
	}
</core-style>

<template id="t" is="auto-binding">
	<pvc-globals values="{{globals}}"></pvc-globals>

	<core-drawer-panel id="drawerPanel" narrow="{{narrow}}" responsiveWidth="816px">

		<core-header-panel mode="scroll" drawer>
			<core-toolbar id="navheader" class="tall">
				<!-- <core-image src="{{user.cover}}" sizing="cover" preload fade
							  style="width:400px; height:400px; background-color:#c41411;">
				  </core-image> -->
				<img class="middle" src="images/logo.svg">

				<div class="bottom" horizontal layout>
					<div flex self-start >
						<core-image src="{{user.profile}}" sizing="cover"
							   preload fade style="width:60px; height:60px; background-color:#FF8700; border-radius: 1000em;" hidden?="{{!user.profile}}">
						  </core-image>
					</div>
					<paper-dropdown-menu flex self-end id="user-login" label="{{(!statusKnown || !user) ? 'Anonymous' : user.displayName}}">
						<paper-dropdown layered class="dropdown">
							<paper-item on-click="{{login}}" hidden?="{{statusKnown && user}}">Login</paper-item>
							<paper-item on-click="{{logout}}" hidden?="{{!statusKnown || !user}}">Logout</paper-item>
					    </paper-dropdown>
					</paper-dropdown-menu>
					<site-login id="baseLogin" user="{{user}}" statusKnown="{{statusKnown}}" ssoUrl="http://t3dd15.typo3.org/sso/"></site-login>
				</div>
			</core-toolbar>
			<core-menu selected="0" excludedLocalNames="div" on-core-select="{{menuSelect}}">
				<site-item label="Home" icon="home" href="/"></site-item>
				<site-item label="Register" icon="social:person-add" href="/register"></site-item>
				<site-item label="Sessions" icon="view-agenda" href="/sessions"></site-item>
			</core-menu>
		</core-header-panel>
		<div main>
			<core-icon-button id="menuButton" icon="menu" hidden?="{{!narrow}}" core-drawer-toggle></core-icon-button>
			<app-router mode="pushstate">
				<app-route path="/" import="pages/page-home.html" element="page-home"></app-route>
				<app-route path="/register" import="pages/register-new.html" element="register-new"></app-route>
				<app-route path="/register/success" import="pages/register-success.html" element="register-success"></app-route>
				<app-route path="/sessions" import="pages/session-list.html" element="session-list"></app-route>
				<app-route path="/sessions/new" import="pages/session-new.html" element="session-new"></app-route>
				<app-route path="/sessions/:uuid" import="pages/session-show.html" element="session-show"></app-route>
			</app-router>
		</div>
	</core-drawer-panel>

	<paper-fab title="Register" id="fab" icon="social:person-add" on-tap="{{register}}"></paper-fab>
</template>

<!-- build:js scripts/app.js -->
<script src="scripts/app.js"></script>
<!-- endbuild-->
</body>

</html>
